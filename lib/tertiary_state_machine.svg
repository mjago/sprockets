<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<!-- Generated by Graphviz version 2.16.1 (Thu Jan 17 17:16:42 GMT 2008)
     For user: martyn -->
<!-- Title: draw_state_machine Pages: 1 -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" width="478pt" height="1224pt" viewBox="0.00 0.00 478.00 1224.00" preserveAspectRatio="xMidYMid meet" zoomAndPan="magnify" version="1.0" contentScriptType="text/ecmascript" contentStyleType="text/css"><defs><linearGradient id="lightgrey" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:1"/><stop offset="100%" style="stop-color:rgb(128,128,128);stop-opacity:1"/></linearGradient><linearGradient id="lightblue" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:1"/><stop offset="100%" style="stop-color:rgb(128,128,255);stop-opacity:1"/></linearGradient><linearGradient id="none" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:1"/><stop offset="100%" style="stop-color:rgb(255,255,255);stop-opacity:1"/></linearGradient></defs>
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1220)"><polygon style="fill:white;stroke:white;" points="-4,4 -4,-1220 474,-1220 474,4 -4,4"/><title content="structured text">draw_state_machine</title><g id="node1" class="node"><title content="structured text">init_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="204" cy="-1160" rx="38.9222" ry="38.9222" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="204" cy="-1160" rx="38.9222" ry="38.9222"/>
<text text-anchor="middle" x="204" y="-1164.35" style="font-family:verdana;font-size:16.00;fill:#000080;">init</text>
<text text-anchor="middle" x="204" y="-1145.6" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="node3" class="node"><title content="structured text">contact_tester_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="62" cy="-960" rx="52.1491" ry="52.1491" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="62" cy="-960" rx="52.1491" ry="52.1491"/>
<text text-anchor="middle" x="62" y="-973.725" style="font-family:verdana;font-size:16.00;fill:#000080;">contact</text>
<text text-anchor="middle" x="62" y="-954.975" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="62" y="-936.225" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge2" class="edge"><title content="structured text">init_state-&gt;contact_tester_state</title>
<path style="fill:none;stroke:green;" d="M166,-1152C131,-1142 83,-1123 61,-1086 50,-1067 47,-1043 49,-1021"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M166,-1152C131,-1142 83,-1123 61,-1086 50,-1067 47,-1043 49,-1021" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="52.4875,-1021.3 50,-1011 45.5222,-1020.6 52.4875,-1021.3" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="52.4875,-1021.3 50,-1011 45.5222,-1020.6 52.4875,-1021.3"/>
<text text-anchor="middle" x="101" y="-1052.97" style="font-family:verdana;font-size:16.00;fill:darkgreen;">initialised!</text>
</g><g id="edge8" class="edge"><title content="structured text">contact_tester_state-&gt;init_state</title>
<path style="fill:none;stroke:green;" d="M104,-991C118,-1002 132,-1015 142,-1030 157,-1051 153,-1061 165,-1086 170,-1096 175,-1107 180,-1117"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M104,-991C118,-1002 132,-1015 142,-1030 157,-1051 153,-1061 165,-1086 170,-1096 175,-1107 180,-1117" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="177.084,-1118.96 185,-1126 183.203,-1115.56 177.084,-1118.96" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="177.084,-1118.96 185,-1126 183.203,-1115.56 177.084,-1118.96"/>
<text text-anchor="middle" x="198" y="-1071.72" style="font-family:verdana;font-size:16.00;fill:darkgreen;">contact</text>
<text text-anchor="middle" x="198" y="-1052.97" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="198" y="-1034.22" style="font-family:verdana;font-size:16.00;fill:darkgreen;">timeout!</text>
</g><g id="edge4" class="edge"><title content="structured text">contact_tester_state-&gt;contact_tester_state</title>
<path style="fill:none;stroke:green;" d="M111,-978C123,-976 132,-971 132,-960 132,-953 128,-948 121,-945"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M111,-978C123,-976 132,-971 132,-960 132,-953 128,-948 121,-945" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="121.584,-941.521 111,-942 119.573,-948.226 121.584,-941.521" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="121.584,-941.521 111,-942 119.573,-948.226 121.584,-941.521"/>
<text text-anchor="middle" x="173" y="-973.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="173" y="-954.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">not</text>
<text text-anchor="middle" x="173" y="-936.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">contacted!</text>
</g><g id="node6" class="node"><title content="structured text">listen_for_tester_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="62" cy="-758" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="62" cy="-758" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="62" y="-781.1" style="font-family:verdana;font-size:16.00;fill:#000080;">listen</text>
<text text-anchor="middle" x="62" y="-762.35" style="font-family:verdana;font-size:16.00;fill:#000080;">for</text>
<text text-anchor="middle" x="62" y="-743.6" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="62" y="-724.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge6" class="edge"><title content="structured text">contact_tester_state-&gt;listen_for_tester_state</title>
<path style="fill:none;stroke:green;" d="M26,-922C19,-912 12,-901 8,-890 0,-866 1,-857 8,-834 11,-826 15,-818 19,-811"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M26,-922C19,-912 12,-901 8,-890 0,-866 1,-857 8,-834 11,-826 15,-818 19,-811" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="22.2031,-812.441 24,-802 16.084,-809.042 22.2031,-812.441" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="22.2031,-812.441 24,-802 16.084,-809.042 22.2031,-812.441"/>
<text text-anchor="middle" x="53" y="-866.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="53" y="-847.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">contacted!</text>
</g><g id="edge14" class="edge"><title content="structured text">listen_for_tester_state-&gt;contact_tester_state</title>
<path style="fill:none;stroke:green;" d="M85,-812C87,-819 90,-827 91,-834 95,-858 95,-865 91,-890 90,-895 89,-899 87,-903"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M85,-812C87,-819 90,-827 91,-834 95,-858 95,-865 91,-890 90,-895 89,-899 87,-903" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="83.5212,-902.416 84,-913 90.2259,-904.427 83.5212,-902.416" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="83.5212,-902.416 84,-913 90.2259,-904.427 83.5212,-902.416"/>
<text text-anchor="middle" x="127" y="-875.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="127" y="-856.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">listening</text>
<text text-anchor="middle" x="127" y="-838.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">timeout!</text>
</g><g id="edge10" class="edge"><title content="structured text">listen_for_tester_state-&gt;listen_for_tester_state</title>
<path style="fill:none;stroke:green;" d="M118,-775C129,-773 138,-767 138,-758 138,-752 134,-747 128,-744"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M118,-775C129,-773 138,-767 138,-758 138,-752 134,-747 128,-744" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="128.584,-740.521 118,-741 126.573,-747.226 128.584,-740.521" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="128.584,-740.521 118,-741 126.573,-747.226 128.584,-740.521"/>
<text text-anchor="middle" x="173" y="-762.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="173" y="-743.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">unheard!</text>
</g><g id="node10" class="node"><title content="structured text">send_tester_tick_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="81" cy="-568" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="81" cy="-568" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="81" y="-591.1" style="font-family:verdana;font-size:16.00;fill:#000080;">send</text>
<text text-anchor="middle" x="81" y="-572.35" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="81" y="-553.6" style="font-family:verdana;font-size:16.00;fill:#000080;">tick</text>
<text text-anchor="middle" x="81" y="-534.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge12" class="edge"><title content="structured text">listen_for_tester_state-&gt;send_tester_tick_state</title>
<path style="fill:none;stroke:green;" d="M68,-700C70,-679 72,-657 74,-636"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M68,-700C70,-679 72,-657 74,-636" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="77.4875,-636.299 75,-626 70.5222,-635.602 77.4875,-636.299" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="77.4875,-636.299 75,-626 70.5222,-635.602 77.4875,-636.299"/>
<text text-anchor="middle" x="97" y="-667.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="97" y="-648.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">heard!</text>
</g><g id="node13" class="node"><title content="structured text">await_tick_ack_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="215" cy="-340" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="215" cy="-340" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="215" y="-363.1" style="font-family:verdana;font-size:16.00;fill:#000080;">await</text>
<text text-anchor="middle" x="215" y="-344.35" style="font-family:verdana;font-size:16.00;fill:#000080;">tick</text>
<text text-anchor="middle" x="215" y="-325.6" style="font-family:verdana;font-size:16.00;fill:#000080;">ack</text>
<text text-anchor="middle" x="215" y="-306.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge16" class="edge"><title content="structured text">send_tester_tick_state-&gt;await_tick_ack_state</title>
<path style="fill:none;stroke:green;" d="M70,-511C67,-480 69,-442 89,-416 104,-395 120,-410 143,-398 150,-394 157,-390 164,-385"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M70,-511C67,-480 69,-442 89,-416 104,-395 120,-410 143,-398 150,-394 157,-390 164,-385" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="166.1,-387.8 172,-379 161.9,-382.2 166.1,-387.8" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="166.1,-387.8 172,-379 161.9,-382.2 166.1,-387.8"/>
<text text-anchor="middle" x="115" y="-477.1" style="font-family:verdana;font-size:16.00;fill:darkgreen;">sent</text>
<text text-anchor="middle" x="115" y="-458.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tick</text>
<text text-anchor="middle" x="115" y="-439.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">to</text>
<text text-anchor="middle" x="115" y="-420.85" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester!</text>
</g><g id="edge22" class="edge"><title content="structured text">await_tick_ack_state-&gt;init_state</title>
<path style="fill:none;stroke:green;" d="M227,-397C229,-403 230,-410 231,-416 241,-483 245,-500 245,-568 245,-960 245,-960 245,-960 245,-1016 243,-1031 231,-1086 229,-1096 226,-1105 223,-1115"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M227,-397C229,-403 230,-410 231,-416 241,-483 245,-500 245,-568 245,-960 245,-960 245,-960 245,-1016 243,-1031 231,-1086 229,-1096 226,-1105 223,-1115" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="219.863,-1113.44 219,-1124 226.26,-1116.28 219.863,-1113.44" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="219.863,-1113.44 219,-1124 226.26,-1116.28 219.863,-1113.44"/>
<text text-anchor="middle" x="278" y="-771.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">await</text>
<text text-anchor="middle" x="278" y="-752.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tick</text>
<text text-anchor="middle" x="278" y="-734.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">timeout!</text>
</g><g id="edge18" class="edge"><title content="structured text">await_tick_ack_state-&gt;send_tester_tick_state</title>
<path style="fill:none;stroke:green;" d="M180,-387C174,-396 169,-406 164,-416 148,-447 157,-460 141,-492 137,-500 132,-508 126,-516"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M180,-387C174,-396 169,-406 164,-416 148,-447 157,-460 141,-492 137,-500 132,-508 126,-516" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="123.2,-513.9 120,-524 128.8,-518.1 123.2,-513.9" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="123.2,-513.9 120,-524 128.8,-518.1 123.2,-513.9"/>
<text text-anchor="middle" x="197" y="-467.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">received</text>
<text text-anchor="middle" x="197" y="-448.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tick</text>
<text text-anchor="middle" x="197" y="-430.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">ack!</text>
</g><g id="node16" class="node"><title content="structured text">increment_tester_nak_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="215" cy="-123" rx="67.0285" ry="67.0285" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="215" cy="-123" rx="67.0285" ry="67.0285"/>
<text text-anchor="middle" x="215" y="-146.1" style="font-family:verdana;font-size:16.00;fill:#000080;">increment</text>
<text text-anchor="middle" x="215" y="-127.35" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="215" y="-108.6" style="font-family:verdana;font-size:16.00;fill:#000080;">nak</text>
<text text-anchor="middle" x="215" y="-89.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge20" class="edge"><title content="structured text">await_tick_ack_state-&gt;increment_tester_nak_state</title>
<path style="fill:none;stroke:green;" d="M215,-282C215,-257 215,-228 215,-200"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M215,-282C215,-257 215,-228 215,-200" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="218.5,-200 215,-190 211.5,-200 218.5,-200" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="218.5,-200 215,-190 211.5,-200 218.5,-200"/>
<text text-anchor="middle" x="248" y="-249.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">received</text>
<text text-anchor="middle" x="248" y="-230.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tick</text>
<text text-anchor="middle" x="248" y="-212.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">nak!</text>
</g><g id="edge24" class="edge"><title content="structured text">increment_tester_nak_state-&gt;init_state</title>
<path style="fill:none;stroke:green;" d="M262,-171C297,-212 339,-275 339,-340 339,-960 339,-960 339,-960 339,-978 274,-1067 234,-1121"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M262,-171C297,-212 339,-275 339,-340 339,-960 339,-960 339,-960 339,-978 274,-1067 234,-1121" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="231.2,-1118.9 228,-1129 236.8,-1123.1 231.2,-1118.9" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="231.2,-1118.9 228,-1129 236.8,-1123.1 231.2,-1118.9"/>
<text text-anchor="middle" x="381" y="-667.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">nak</text>
<text text-anchor="middle" x="381" y="-648.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">overcount!</text>
</g><g id="edge26" class="edge"><title content="structured text">increment_tester_nak_state-&gt;send_tester_tick_state</title>
<path style="fill:none;stroke:green;" d="M160,-162C125,-191 83,-233 64,-282 36,-353 47,-443 62,-502"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M160,-162C125,-191 83,-233 64,-282 36,-353 47,-443 62,-502" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="58.6067,-502.881 64,-512 65.4708,-501.508 58.6067,-502.881" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="58.6067,-502.881 64,-512 65.4708,-501.508 58.6067,-502.881"/>
<text text-anchor="middle" x="106" y="-353.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">not</text>
<text text-anchor="middle" x="106" y="-334.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">nak</text>
<text text-anchor="middle" x="106" y="-316.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">overcount!</text>
</g><g id="node20" class="node"><title content="structured text">pending</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="317" cy="-1160" rx="55.8614" ry="55.8614" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="317" cy="-1160" rx="55.8614" ry="55.8614"/>
<text text-anchor="middle" x="317" y="-1154.97" style="font-family:verdana;font-size:16.00;fill:#000080;">pending</text>
</g><g id="edge28" class="edge"><title content="structured text">pending-&gt;pending</title>
<path style="fill:none;stroke:green;" d="M370,-1178C382,-1177 391,-1171 391,-1160 391,-1152 387,-1147 380,-1144"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M370,-1178C382,-1177 391,-1171 391,-1160 391,-1152 387,-1147 380,-1144" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="380.492,-1140.53 370,-1142 379.119,-1147.39 380.492,-1140.53" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="380.492,-1140.53 370,-1142 379.119,-1147.39 380.492,-1140.53"/>
<text text-anchor="middle" x="430" y="-1154.97" style="font-family:verdana;font-size:16.00;fill:darkgreen;">PENDING!</text>
</g></g>
</svg>
