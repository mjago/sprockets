<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<!-- Generated by Graphviz version 2.16.1 (Thu Jan 17 17:16:42 GMT 2008)
     For user: martyn -->
<!-- Title: draw_state_machine Pages: 1 -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" width="391pt" height="1200pt" viewBox="0.00 0.00 391.00 1200.00" preserveAspectRatio="xMidYMid meet" zoomAndPan="magnify" version="1.0" contentScriptType="text/ecmascript" contentStyleType="text/css"><defs><linearGradient id="lightgrey" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:1"/><stop offset="100%" style="stop-color:rgb(128,128,128);stop-opacity:1"/></linearGradient><linearGradient id="lightblue" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:1"/><stop offset="100%" style="stop-color:rgb(128,128,255);stop-opacity:1"/></linearGradient><linearGradient id="none" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:1"/><stop offset="100%" style="stop-color:rgb(255,255,255);stop-opacity:1"/></linearGradient></defs>
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1196)"><polygon style="fill:white;stroke:white;" points="-4,4 -4,-1196 387,-1196 387,4 -4,4"/><title content="structured text">draw_state_machine</title><g id="node1" class="node"><title content="structured text">init_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="124" cy="-1153" rx="38.9222" ry="38.9222" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="124" cy="-1153" rx="38.9222" ry="38.9222"/>
<text text-anchor="middle" x="124" y="-1157.35" style="font-family:verdana;font-size:16.00;fill:#000080;">init</text>
<text text-anchor="middle" x="124" y="-1138.6" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="node3" class="node"><title content="structured text">contact_tester_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="124" cy="-970" rx="52.1491" ry="52.1491" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="124" cy="-970" rx="52.1491" ry="52.1491"/>
<text text-anchor="middle" x="124" y="-983.725" style="font-family:verdana;font-size:16.00;fill:#000080;">contact</text>
<text text-anchor="middle" x="124" y="-964.975" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="124" y="-946.225" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge2" class="edge"><title content="structured text">init_state-&gt;contact_tester_state</title>
<path style="fill:none;stroke:green;" d="M95,-1127C86,-1118 78,-1108 73,-1096 65,-1072 66,-1063 73,-1040 76,-1032 80,-1025 84,-1017"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M95,-1127C86,-1118 78,-1108 73,-1096 65,-1072 66,-1063 73,-1040 76,-1032 80,-1025 84,-1017" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="86.668,-1019.34 89,-1009 80.732,-1015.62 86.668,-1019.34" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="86.668,-1019.34 89,-1009 80.732,-1015.62 86.668,-1019.34"/>
<text text-anchor="middle" x="117" y="-1062.97" style="font-family:verdana;font-size:16.00;fill:darkgreen;">initialised!</text>
</g><g id="edge8" class="edge"><title content="structured text">contact_tester_state-&gt;init_state</title>
<path style="fill:none;stroke:green;" d="M147,-1017C150,-1024 152,-1032 154,-1040 159,-1064 159,-1071 154,-1096 153,-1101 151,-1106 149,-1111"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M147,-1017C150,-1024 152,-1032 154,-1040 159,-1064 159,-1071 154,-1096 153,-1101 151,-1106 149,-1111" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="145.863,-1109.44 145,-1120 152.26,-1112.28 145.863,-1109.44" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="145.863,-1109.44 145,-1120 152.26,-1112.28 145.863,-1109.44"/>
<text text-anchor="middle" x="190" y="-1081.72" style="font-family:verdana;font-size:16.00;fill:darkgreen;">contact</text>
<text text-anchor="middle" x="190" y="-1062.97" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="190" y="-1044.22" style="font-family:verdana;font-size:16.00;fill:darkgreen;">timeout!</text>
</g><g id="edge4" class="edge"><title content="structured text">contact_tester_state-&gt;contact_tester_state</title>
<path style="fill:none;stroke:green;" d="M173,-988C185,-986 194,-981 194,-970 194,-963 190,-958 183,-955"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M173,-988C185,-986 194,-981 194,-970 194,-963 190,-958 183,-955" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="183.584,-951.521 173,-952 181.573,-958.226 183.584,-951.521" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="183.584,-951.521 173,-952 181.573,-958.226 183.584,-951.521"/>
<text text-anchor="middle" x="235" y="-983.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="235" y="-964.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">not</text>
<text text-anchor="middle" x="235" y="-946.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">contacted!</text>
</g><g id="node6" class="node"><title content="structured text">listen_for_tester_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="124" cy="-768" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="124" cy="-768" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="124" y="-791.1" style="font-family:verdana;font-size:16.00;fill:#000080;">listen</text>
<text text-anchor="middle" x="124" y="-772.35" style="font-family:verdana;font-size:16.00;fill:#000080;">for</text>
<text text-anchor="middle" x="124" y="-753.6" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="124" y="-734.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge6" class="edge"><title content="structured text">contact_tester_state-&gt;listen_for_tester_state</title>
<path style="fill:none;stroke:green;" d="M89,-931C82,-921 76,-911 72,-900 65,-876 65,-867 72,-844 75,-836 78,-829 82,-822"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M89,-931C82,-921 76,-911 72,-900 65,-876 65,-867 72,-844 75,-836 78,-829 82,-822" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="85.2031,-823.441 87,-813 79.084,-820.042 85.2031,-823.441" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="85.2031,-823.441 87,-813 79.084,-820.042 85.2031,-823.441"/>
<text text-anchor="middle" x="117" y="-876.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="117" y="-857.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">contacted!</text>
</g><g id="edge14" class="edge"><title content="structured text">listen_for_tester_state-&gt;contact_tester_state</title>
<path style="fill:none;stroke:green;" d="M148,-821C151,-829 153,-836 155,-844 159,-868 160,-875 155,-900 154,-905 152,-909 151,-914"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M148,-821C151,-829 153,-836 155,-844 159,-868 160,-875 155,-900 154,-905 152,-909 151,-914" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="147.863,-912.44 147,-923 154.26,-915.283 147.863,-912.44" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="147.863,-912.44 147,-923 154.26,-915.283 147.863,-912.44"/>
<text text-anchor="middle" x="191" y="-885.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="191" y="-866.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">listening</text>
<text text-anchor="middle" x="191" y="-848.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">timeout!</text>
</g><g id="edge10" class="edge"><title content="structured text">listen_for_tester_state-&gt;listen_for_tester_state</title>
<path style="fill:none;stroke:green;" d="M180,-785C191,-783 200,-777 200,-768 200,-762 196,-757 190,-754"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M180,-785C191,-783 200,-777 200,-768 200,-762 196,-757 190,-754" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="190.584,-750.521 180,-751 188.573,-757.226 190.584,-750.521" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="190.584,-750.521 180,-751 188.573,-757.226 190.584,-750.521"/>
<text text-anchor="middle" x="235" y="-772.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="235" y="-753.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">unheard!</text>
</g><g id="node10" class="node"><title content="structured text">send_tester_hash_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="124" cy="-578" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="124" cy="-578" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="124" y="-601.1" style="font-family:verdana;font-size:16.00;fill:#000080;">send</text>
<text text-anchor="middle" x="124" y="-582.35" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="124" y="-563.6" style="font-family:verdana;font-size:16.00;fill:#000080;">hash</text>
<text text-anchor="middle" x="124" y="-544.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge12" class="edge"><title content="structured text">listen_for_tester_state-&gt;send_tester_hash_state</title>
<path style="fill:none;stroke:green;" d="M124,-710C124,-690 124,-668 124,-646"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M124,-710C124,-690 124,-668 124,-646" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="127.5,-646 124,-636 120.5,-646 127.5,-646" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="127.5,-646 124,-636 120.5,-646 127.5,-646"/>
<text text-anchor="middle" x="149" y="-677.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="149" y="-658.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">heard!</text>
</g><g id="node13" class="node"><title content="structured text">sent_tester_hash_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="58" cy="-336" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="58" cy="-336" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="58" y="-359.1" style="font-family:verdana;font-size:16.00;fill:#000080;">sent</text>
<text text-anchor="middle" x="58" y="-340.35" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="58" y="-321.6" style="font-family:verdana;font-size:16.00;fill:#000080;">hash</text>
<text text-anchor="middle" x="58" y="-302.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge16" class="edge"><title content="structured text">send_tester_hash_state-&gt;sent_tester_hash_state</title>
<path style="fill:none;stroke:green;" d="M78,-542C67,-530 56,-517 50,-502 37,-470 39,-433 43,-402"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M78,-542C67,-530 56,-517 50,-502 37,-470 39,-433 43,-402" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="46.4875,-402.299 44,-392 39.5222,-401.602 46.4875,-402.299" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="46.4875,-402.299 44,-392 39.5222,-401.602 46.4875,-402.299"/>
<text text-anchor="middle" x="80" y="-487.1" style="font-family:verdana;font-size:16.00;fill:darkgreen;">sent</text>
<text text-anchor="middle" x="80" y="-468.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">hash</text>
<text text-anchor="middle" x="80" y="-449.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">to</text>
<text text-anchor="middle" x="80" y="-430.85" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester!</text>
</g><g id="node15" class="node"><title content="structured text">warning_hash_nak_overcount_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="214" cy="-336" rx="71.9481" ry="71.9481" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="214" cy="-336" rx="71.9481" ry="71.9481"/>
<text text-anchor="middle" x="214" y="-368.475" style="font-family:verdana;font-size:16.00;fill:#000080;">warning</text>
<text text-anchor="middle" x="214" y="-349.725" style="font-family:verdana;font-size:16.00;fill:#000080;">hash</text>
<text text-anchor="middle" x="214" y="-330.975" style="font-family:verdana;font-size:16.00;fill:#000080;">nak</text>
<text text-anchor="middle" x="214" y="-312.225" style="font-family:verdana;font-size:16.00;fill:#000080;">overcount</text>
<text text-anchor="middle" x="214" y="-293.475" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge18" class="edge"><title content="structured text">send_tester_hash_state-&gt;warning_hash_nak_overcount_state</title>
<path style="fill:none;stroke:green;" d="M166,-538C175,-527 184,-515 190,-502 202,-476 208,-446 211,-418"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M166,-538C175,-527 184,-515 190,-502 202,-476 208,-446 211,-418" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="214.488,-418.299 212,-408 207.522,-417.602 214.488,-418.299" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="214.488,-418.299 212,-408 207.522,-417.602 214.488,-418.299"/>
<text text-anchor="middle" x="251" y="-468.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">retry</text>
<text text-anchor="middle" x="251" y="-449.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">overcount!</text>
</g><g id="edge22" class="edge"><title content="structured text">sent_tester_hash_state-&gt;send_tester_hash_state</title>
<path style="fill:none;stroke:green;" d="M86,-387C92,-399 98,-413 102,-426 111,-453 116,-483 119,-510"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M86,-387C92,-399 98,-413 102,-426 111,-453 116,-483 119,-510" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="115.522,-510.398 120,-520 122.488,-509.701 115.522,-510.398" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="115.522,-510.398 120,-520 122.488,-509.701 115.522,-510.398"/>
<text text-anchor="middle" x="152" y="-477.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">received</text>
<text text-anchor="middle" x="152" y="-458.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">hash</text>
<text text-anchor="middle" x="152" y="-440.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">nak!</text>
</g><g id="node17" class="node"><title content="structured text">verify_tester_hash_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="58" cy="-114" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="58" cy="-114" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="58" y="-137.1" style="font-family:verdana;font-size:16.00;fill:#000080;">verify</text>
<text text-anchor="middle" x="58" y="-118.35" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="58" y="-99.6" style="font-family:verdana;font-size:16.00;fill:#000080;">hash</text>
<text text-anchor="middle" x="58" y="-80.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge20" class="edge"><title content="structured text">sent_tester_hash_state-&gt;verify_tester_hash_state</title>
<path style="fill:none;stroke:green;" d="M58,-278C58,-248 58,-213 58,-182"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M58,-278C58,-248 58,-213 58,-182" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="61.5001,-182 58,-172 54.5001,-182 61.5001,-182" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="61.5001,-182 58,-172 54.5001,-182 61.5001,-182"/>
<text text-anchor="middle" x="92" y="-231.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">received</text>
<text text-anchor="middle" x="92" y="-212.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">hash</text>
<text text-anchor="middle" x="92" y="-194.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">ack!</text>
</g><g id="edge24" class="edge"><title content="structured text">warning_hash_nak_overcount_state-&gt;warning_hash_nak_overcount_state</title>
<path style="fill:none;stroke:green;" d="M283,-356C295,-354 304,-347 304,-336 304,-328 300,-323 293,-319"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M283,-356C295,-354 304,-347 304,-336 304,-328 300,-323 293,-319" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="293.584,-315.521 283,-316 291.573,-322.226 293.584,-315.521" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="293.584,-315.521 283,-316 291.573,-322.226 293.584,-315.521"/>
<text text-anchor="middle" x="343" y="-330.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">PENDING!</text>
</g><g id="edge26" class="edge"><title content="structured text">verify_tester_hash_state-&gt;verify_tester_hash_state</title>
<path style="fill:none;stroke:green;" d="M113,-133C125,-131 134,-125 134,-114 134,-106 130,-101 123,-98"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M113,-133C125,-131 134,-125 134,-114 134,-106 130,-101 123,-98" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="123.584,-94.5212 113,-95 121.573,-101.226 123.584,-94.5212" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="123.584,-94.5212 113,-95 121.573,-101.226 123.584,-94.5212"/>
<text text-anchor="middle" x="173" y="-108.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">PENDING!</text>
</g></g>
</svg>
