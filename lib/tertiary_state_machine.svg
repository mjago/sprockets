<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<!-- Generated by Graphviz version 2.16.1 (Thu Jan 17 17:16:42 GMT 2008)
     For user: martyn -->
<!-- Title: draw_state_machine Pages: 1 -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" width="489pt" height="1190pt" viewBox="0.00 0.00 489.00 1190.00" preserveAspectRatio="xMidYMid meet" zoomAndPan="magnify" version="1.0" contentScriptType="text/ecmascript" contentStyleType="text/css"><defs><linearGradient id="lightgrey" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:1"/><stop offset="100%" style="stop-color:rgb(128,128,128);stop-opacity:1"/></linearGradient><linearGradient id="lightblue" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:1"/><stop offset="100%" style="stop-color:rgb(128,128,255);stop-opacity:1"/></linearGradient><linearGradient id="none" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:1"/><stop offset="100%" style="stop-color:rgb(255,255,255);stop-opacity:1"/></linearGradient></defs>
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1186)"><polygon style="fill:white;stroke:white;" points="-4,4 -4,-1186 485,-1186 485,4 -4,4"/><title content="structured text">draw_state_machine</title><g id="node1" class="node"><title content="structured text">init_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="316" cy="-1143" rx="38.9222" ry="38.9222" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="316" cy="-1143" rx="38.9222" ry="38.9222"/>
<text text-anchor="middle" x="316" y="-1147.35" style="font-family:verdana;font-size:16.00;fill:#000080;">init</text>
<text text-anchor="middle" x="316" y="-1128.6" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="node3" class="node"><title content="structured text">contact_tester_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="214" cy="-960" rx="52.1491" ry="52.1491" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="214" cy="-960" rx="52.1491" ry="52.1491"/>
<text text-anchor="middle" x="214" y="-973.725" style="font-family:verdana;font-size:16.00;fill:#000080;">contact</text>
<text text-anchor="middle" x="214" y="-954.975" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="214" y="-936.225" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge2" class="edge"><title content="structured text">init_state-&gt;contact_tester_state</title>
<path style="fill:none;stroke:green;" d="M278,-1133C255,-1124 227,-1110 213,-1086 202,-1066 199,-1043 201,-1021"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M278,-1133C255,-1124 227,-1110 213,-1086 202,-1066 199,-1043 201,-1021" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="204.488,-1021.3 202,-1011 197.522,-1020.6 204.488,-1021.3" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="204.488,-1021.3 202,-1011 197.522,-1020.6 204.488,-1021.3"/>
<text text-anchor="middle" x="254" y="-1052.97" style="font-family:verdana;font-size:16.00;fill:darkgreen;">initialised!</text>
</g><g id="edge8" class="edge"><title content="structured text">contact_tester_state-&gt;init_state</title>
<path style="fill:none;stroke:green;" d="M257,-989C271,-1000 285,-1014 294,-1030 305,-1049 310,-1073 313,-1094"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M257,-989C271,-1000 285,-1014 294,-1030 305,-1049 310,-1073 313,-1094" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="309.522,-1094.4 314,-1104 316.488,-1093.7 309.522,-1094.4" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="309.522,-1094.4 314,-1104 316.488,-1093.7 309.522,-1094.4"/>
<text text-anchor="middle" x="344" y="-1071.72" style="font-family:verdana;font-size:16.00;fill:darkgreen;">contact</text>
<text text-anchor="middle" x="344" y="-1052.97" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="344" y="-1034.22" style="font-family:verdana;font-size:16.00;fill:darkgreen;">timeout!</text>
</g><g id="edge4" class="edge"><title content="structured text">contact_tester_state-&gt;contact_tester_state</title>
<path style="fill:none;stroke:green;" d="M263,-978C275,-976 284,-971 284,-960 284,-953 280,-948 273,-945"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M263,-978C275,-976 284,-971 284,-960 284,-953 280,-948 273,-945" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="273.584,-941.521 263,-942 271.573,-948.226 273.584,-941.521" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="273.584,-941.521 263,-942 271.573,-948.226 273.584,-941.521"/>
<text text-anchor="middle" x="325" y="-973.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="325" y="-954.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">not</text>
<text text-anchor="middle" x="325" y="-936.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">contacted!</text>
</g><g id="node6" class="node"><title content="structured text">listen_for_tester_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="181" cy="-758" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="181" cy="-758" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="181" y="-781.1" style="font-family:verdana;font-size:16.00;fill:#000080;">listen</text>
<text text-anchor="middle" x="181" y="-762.35" style="font-family:verdana;font-size:16.00;fill:#000080;">for</text>
<text text-anchor="middle" x="181" y="-743.6" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="181" y="-724.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge6" class="edge"><title content="structured text">contact_tester_state-&gt;listen_for_tester_state</title>
<path style="fill:none;stroke:green;" d="M235,-912C243,-888 247,-859 239,-834 236,-825 232,-816 227,-808"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M235,-912C243,-888 247,-859 239,-834 236,-825 232,-816 227,-808" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="229.8,-805.9 221,-800 224.2,-810.1 229.8,-805.9" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="229.8,-805.9 221,-800 224.2,-810.1 229.8,-805.9"/>
<text text-anchor="middle" x="283" y="-866.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="283" y="-847.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">contacted!</text>
</g><g id="edge14" class="edge"><title content="structured text">listen_for_tester_state-&gt;contact_tester_state</title>
<path style="fill:none;stroke:green;" d="M167,-815C163,-838 162,-866 169,-890 171,-897 174,-903 177,-909"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M167,-815C163,-838 162,-866 169,-890 171,-897 174,-903 177,-909" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="174.084,-910.958 182,-918 180.203,-907.559 174.084,-910.958" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="174.084,-910.958 182,-918 180.203,-907.559 174.084,-910.958"/>
<text text-anchor="middle" x="206" y="-875.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="206" y="-856.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">listening</text>
<text text-anchor="middle" x="206" y="-838.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">timeout!</text>
</g><g id="edge10" class="edge"><title content="structured text">listen_for_tester_state-&gt;listen_for_tester_state</title>
<path style="fill:none;stroke:green;" d="M237,-775C248,-773 257,-767 257,-758 257,-752 253,-747 247,-744"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M237,-775C248,-773 257,-767 257,-758 257,-752 253,-747 247,-744" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="247.584,-740.521 237,-741 245.573,-747.226 247.584,-740.521" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="247.584,-740.521 237,-741 245.573,-747.226 247.584,-740.521"/>
<text text-anchor="middle" x="292" y="-762.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="292" y="-743.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">unheard!</text>
</g><g id="node10" class="node"><title content="structured text">send_tester_tick_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="285" cy="-568" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="285" cy="-568" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="285" y="-591.1" style="font-family:verdana;font-size:16.00;fill:#000080;">send</text>
<text text-anchor="middle" x="285" y="-572.35" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="285" y="-553.6" style="font-family:verdana;font-size:16.00;fill:#000080;">tick</text>
<text text-anchor="middle" x="285" y="-534.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge12" class="edge"><title content="structured text">listen_for_tester_state-&gt;send_tester_tick_state</title>
<path style="fill:none;stroke:green;" d="M209,-707C222,-683 238,-653 252,-628"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M209,-707C222,-683 238,-653 252,-628" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="255.203,-629.441 257,-619 249.084,-626.042 255.203,-629.441" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="255.203,-629.441 257,-619 249.084,-626.042 255.203,-629.441"/>
<text text-anchor="middle" x="267" y="-667.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester</text>
<text text-anchor="middle" x="267" y="-648.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">heard!</text>
</g><g id="node13" class="node"><title content="structured text">sent_tester_tick_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="167" cy="-340" rx="58.1882" ry="58.1882" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="167" cy="-340" rx="58.1882" ry="58.1882"/>
<text text-anchor="middle" x="167" y="-363.1" style="font-family:verdana;font-size:16.00;fill:#000080;">sent</text>
<text text-anchor="middle" x="167" y="-344.35" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="167" y="-325.6" style="font-family:verdana;font-size:16.00;fill:#000080;">tick</text>
<text text-anchor="middle" x="167" y="-306.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge16" class="edge"><title content="structured text">send_tester_tick_state-&gt;sent_tester_tick_state</title>
<path style="fill:none;stroke:green;" d="M244,-526C235,-516 226,-504 219,-492 204,-465 193,-434 184,-406"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M244,-526C235,-516 226,-504 219,-492 204,-465 193,-434 184,-406" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="187.226,-404.573 181,-396 180.521,-406.584 187.226,-404.573" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="187.226,-404.573 181,-396 180.521,-406.584 187.226,-404.573"/>
<text text-anchor="middle" x="245" y="-477.1" style="font-family:verdana;font-size:16.00;fill:darkgreen;">sent</text>
<text text-anchor="middle" x="245" y="-458.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tick</text>
<text text-anchor="middle" x="245" y="-439.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">to</text>
<text text-anchor="middle" x="245" y="-420.85" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tester!</text>
</g><g id="edge22" class="edge"><title content="structured text">sent_tester_tick_state-&gt;listen_for_tester_state</title>
<path style="fill:none;stroke:green;" d="M159,-398C152,-455 144,-547 152,-626 155,-648 159,-671 164,-692"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M159,-398C152,-455 144,-547 152,-626 155,-648 159,-671 164,-692" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="160.607,-692.881 166,-702 167.471,-691.508 160.607,-692.881" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="160.607,-692.881 166,-702 167.471,-691.508 160.607,-692.881"/>
<text text-anchor="middle" x="189" y="-581.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">await</text>
<text text-anchor="middle" x="189" y="-562.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tick</text>
<text text-anchor="middle" x="189" y="-544.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">timeout!</text>
</g><g id="node15" class="node"><title content="structured text">pending</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="56" cy="-123" rx="55.8614" ry="55.8614" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="56" cy="-123" rx="55.8614" ry="55.8614"/>
<text text-anchor="middle" x="56" y="-117.975" style="font-family:verdana;font-size:16.00;fill:#000080;">pending</text>
</g><g id="edge18" class="edge"><title content="structured text">sent_tester_tick_state-&gt;pending</title>
<path style="fill:none;stroke:green;" d="M125,-300C115,-289 105,-276 98,-264 85,-241 75,-213 69,-188"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M125,-300C115,-289 105,-276 98,-264 85,-241 75,-213 69,-188" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="72.2259,-186.573 66,-178 65.5212,-188.584 72.2259,-186.573" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="72.2259,-186.573 66,-178 65.5212,-188.584 72.2259,-186.573"/>
<text text-anchor="middle" x="135" y="-249.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">received</text>
<text text-anchor="middle" x="135" y="-230.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tick</text>
<text text-anchor="middle" x="135" y="-212.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">ack!</text>
</g><g id="node17" class="node"><title content="structured text">increment_tester_nak_state</title>
<ellipse style="fill: black; stroke: none; fill-opacity:0.1" cx="294" cy="-123" rx="67.0285" ry="67.0285" transform="translate(2.5,2.5)"/><ellipse style="fill:url(#lightblue);stroke:darkgray;" cx="294" cy="-123" rx="67.0285" ry="67.0285"/>
<text text-anchor="middle" x="294" y="-146.1" style="font-family:verdana;font-size:16.00;fill:#000080;">increment</text>
<text text-anchor="middle" x="294" y="-127.35" style="font-family:verdana;font-size:16.00;fill:#000080;">tester</text>
<text text-anchor="middle" x="294" y="-108.6" style="font-family:verdana;font-size:16.00;fill:#000080;">nak</text>
<text text-anchor="middle" x="294" y="-89.85" style="font-family:verdana;font-size:16.00;fill:#000080;">state</text>
</g><g id="edge20" class="edge"><title content="structured text">sent_tester_tick_state-&gt;increment_tester_nak_state</title>
<path style="fill:none;stroke:green;" d="M176,-283C182,-258 191,-231 204,-208 209,-199 221,-187 236,-174"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M176,-283C182,-258 191,-231 204,-208 209,-199 221,-187 236,-174" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="238.404,-176.546 243,-167 233.454,-171.596 238.404,-176.546" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="238.404,-176.546 243,-167 233.454,-171.596 238.404,-176.546"/>
<text text-anchor="middle" x="237" y="-249.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">received</text>
<text text-anchor="middle" x="237" y="-230.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">tick</text>
<text text-anchor="middle" x="237" y="-212.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">nak!</text>
</g><g id="edge28" class="edge"><title content="structured text">pending-&gt;pending</title>
<path style="fill:none;stroke:green;" d="M108,-144C121,-142 130,-135 130,-123 130,-114 125,-108 118,-105"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M108,-144C121,-142 130,-135 130,-123 130,-114 125,-108 118,-105" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="118.584,-101.521 108,-102 116.573,-108.226 118.584,-101.521" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="118.584,-101.521 108,-102 116.573,-108.226 118.584,-101.521"/>
<text text-anchor="middle" x="170" y="-117.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">PENDING!</text>
</g><g id="edge24" class="edge"><title content="structured text">increment_tester_nak_state-&gt;init_state</title>
<path style="fill:none;stroke:green;" d="M335,-176C364,-218 397,-279 397,-340 397,-960 397,-960 397,-960 397,-1016 407,-1036 381,-1086 375,-1097 366,-1107 357,-1115"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M335,-176C364,-218 397,-279 397,-340 397,-960 397,-960 397,-960 397,-1016 407,-1036 381,-1086 375,-1097 366,-1107 357,-1115" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="354.9,-1112.2 349,-1121 359.1,-1117.8 354.9,-1112.2" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="354.9,-1112.2 349,-1121 359.1,-1117.8 354.9,-1112.2"/>
<text text-anchor="middle" x="439" y="-667.35" style="font-family:verdana;font-size:16.00;fill:darkgreen;">nak</text>
<text text-anchor="middle" x="439" y="-648.6" style="font-family:verdana;font-size:16.00;fill:darkgreen;">overcount!</text>
</g><g id="edge26" class="edge"><title content="structured text">increment_tester_nak_state-&gt;send_tester_tick_state</title>
<path style="fill:none;stroke:green;" d="M293,-190C291,-274 288,-415 286,-500"/><path style="fill: none; stroke: black; stroke-opacity:0.1" d="M293,-190C291,-274 288,-415 286,-500" transform="translate(1.2,1.2)"/>
<polygon style="fill: black; stroke: none; fill-opacity:0.1" points="282.5,-500 286,-510 289.5,-500 282.5,-500" transform="translate(2.5,2.5)"/><polygon style="fill:url(#green);stroke:darkgray;" points="282.5,-500 286,-510 289.5,-500 282.5,-500"/>
<text text-anchor="middle" x="331" y="-353.725" style="font-family:verdana;font-size:16.00;fill:darkgreen;">not</text>
<text text-anchor="middle" x="331" y="-334.975" style="font-family:verdana;font-size:16.00;fill:darkgreen;">nak</text>
<text text-anchor="middle" x="331" y="-316.225" style="font-family:verdana;font-size:16.00;fill:darkgreen;">overcount!</text>
</g></g>
</svg>
