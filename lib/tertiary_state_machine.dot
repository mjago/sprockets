digraph draw_state_machine {
  graph [bgcolor = white, label = "\n\nMain State Machine", rankdir = "UD"];
  edge [color = green, fontcolor = darkgreen, fontname = "verdana", fontsize = "16", url = "http://google.com"];
  node [color = black, fillcolor = lightblue, fontcolor = navyblue, fontname = "verdana", fontsize = "16", shape = circle, style = filled, url = "http://google.com"];
  init_state [label = "init\nstate"];
  init_state -> listen_for_dev_state [label = "initialised!"];
  listen_for_dev_state [label = "listen\nfor\ndev\nstate"];
  listen_for_dev_state -> listen_for_dev_state [label = "dev\nunheard!"];
  listen_for_dev_state [label = "listen\nfor\ndev\nstate"];
  listen_for_dev_state -> contact_dev_state [label = "dev\nheard!"];
  listen_for_dev_state [label = "listen\nfor\ndev\nstate"];
  listen_for_dev_state -> init_state [label = "listen\nfor\ndev\ntimeout!"];
  contact_dev_state [label = "contact\ndev\nstate"];
  contact_dev_state -> contact_dev_state [label = "dev\nnot\ncontacted!"];
  contact_dev_state [label = "contact\ndev\nstate"];
  contact_dev_state -> await_tick_state [label = "dev\ncontacted!"];
  contact_dev_state [label = "contact\ndev\nstate"];
  contact_dev_state -> listen_for_dev_state [label = "dev\ncontact\ntimeout!"];
  await_tick_state [label = "await\ntick\nstate"];
  await_tick_state -> send_tick_ack_state [label = "tick\nreceived!"];
  await_tick_state [label = "await\ntick\nstate"];
  await_tick_state -> init_state [label = "await\ntick\ntimeout!"];
  send_tick_ack_state [label = "send\ntick\nack\nstate"];
  send_tick_ack_state -> await_tick_state [label = "tick\nack\nsent!"];
}
