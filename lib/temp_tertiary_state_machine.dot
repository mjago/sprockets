digraph draw_state_machine {
  graph [bgcolor = white, label = "\n\nMain State Machine", rankdir = "UD"];
  edge [color = green, fontcolor = darkgreen, fontname = "verdana", fontsize = "16", url = "http://google.com"];
  node [color = black, fillcolor = lightblue, fontcolor = navyblue, fontname = "verdana", fontsize = "16", shape = box, style = filled, url = "http://google.com"];
  cold_start_state [label = "cold\nstart\nstate"];
  cold_start_state -> initialise_state [label = "cold\nstart!"];
  initialise_state [label = "initialise\nstate"];
  initialise_state -> test_alarm_state [label = "initialised!"];
  test_alarm_state [label = "test\nalarm\nstate"];
  test_alarm_state -> debounce_state [label = "alarm\ntested!"];
  debounce_state [label = "debounce\nstate"];
  debounce_state -> debounce_state [label = "debouncing!"];
  debounce_state [label = "debounce\nstate"];
  debounce_state -> check_power_key_state [label = "debounced!"];
  check_power_key_state [label = "check\npower\nkey\nstate"];
  check_power_key_state -> key_alarm_state [label = "power\npressed!"];
  key_alarm_state [label = "key\nalarm\nstate"];
  key_alarm_state -> key_alarm_state [label = "key\nalarm\ndelay!"];
  key_alarm_state [label = "key\nalarm\nstate"];
  key_alarm_state -> lifeline_off_state [label = "key\nalarm\ntimeout!"];
  check_power_key_state [label = "check\npower\nkey\nstate"];
  check_power_key_state -> check_cancel_key_state [label = "power\nreleased!"];
  check_cancel_key_state [label = "check\ncancel\nkey\nstate"];
  check_cancel_key_state -> key_alarm_state [label = "cancel\npressed!"];
  check_cancel_key_state [label = "check\ncancel\nkey\nstate"];
  check_cancel_key_state -> check_cold_off_status_state [label = "cancel\nreleased!"];
  check_cold_off_status_state [label = "check\ncold\noff\nstatus\nstate"];
  check_cold_off_status_state -> lifeline_off_state [label = "off\nstatus!"];
  lifeline_off_state [label = "lifeline\noff\nstate"];
  lifeline_off_state -> sleep_state [label = "lifeline\noff!"];
  check_cold_off_status_state [label = "check\ncold\noff\nstatus\nstate"];
  check_cold_off_status_state -> alarm_state [label = "not\noff\nstatus!"];
  alarm_state [label = "alarm\nstate"];
  alarm_state -> lifeline_off_state [label = "alarm\non!"];
  sleep_state [label = "sleep\nstate"];
  sleep_state -> warm_start_state [label = "power\nkey\ninterrupt!"];
  sleep_state [label = "sleep\nstate"];
  sleep_state -> check_warm_cancel_key_state [label = "cancel\nkey\ninterrupt!"];
  warm_start_state [label = "warm\nstart\nstate"];
  warm_start_state -> warm_start_delay_state [label = "initialise\ndelay!"];
  warm_start_delay_state [label = "warm\nstart\ndelay\nstate"];
  warm_start_delay_state -> warm_start_delay_state [label = "warm\nstart\ndelaying!"];
  warm_start_delay_state [label = "warm\nstart\ndelay\nstate"];
  warm_start_delay_state -> check_warm_power_key_state [label = "warm\nstart\ndelayed!"];
  check_warm_power_key_state [label = "check\nwarm\npower\nkey\nstate"];
  check_warm_power_key_state -> check_warm_status_state [label = "power\nkey\npressed!"];
  check_warm_power_key_state [label = "check\nwarm\npower\nkey\nstate"];
  check_warm_power_key_state -> lifeline_off_state [label = "power\nkey\nreleased!"];
  check_warm_cancel_key_state [label = "check\nwarm\ncancel\nkey\nstate"];
  check_warm_cancel_key_state -> silence_alarm_state [label = "cancel\nkey\npressed!"];
  silence_alarm_state [label = "silence\nalarm\nstate"];
  silence_alarm_state -> lifeline_off_state [label = "alarm\nsilenced!"];
  check_warm_cancel_key_state [label = "check\nwarm\ncancel\nkey\nstate"];
  check_warm_cancel_key_state -> lifeline_off_state [label = "cancel\nkey\nreleased!"];
  check_warm_status_state [label = "check\nwarm\nstatus\nstate"];
  check_warm_status_state -> assert_power_state [label = "off\nstatus!"];
  check_warm_status_state [label = "check\nwarm\nstatus\nstate"];
  check_warm_status_state -> alarm_state [label = "not\noff\nstatus!"];
  assert_power_state [label = "assert\npower\nstate"];
  assert_power_state -> power_up_delay_state [label = "power\nasserted!"];
  power_up_delay_state [label = "power\nup\ndelay\nstate"];
  power_up_delay_state -> power_up_delay_state [label = "power\nup\ndelaying!"];
  power_up_delay_state [label = "power\nup\ndelay\nstate"];
  power_up_delay_state -> check_status_state [label = "power\nup\ndelayed!"];
  check_status_state [label = "check\nstatus\nstate"];
  check_status_state -> assert_final_lifeline_state [label = "final\nstatus!"];
  check_status_state [label = "check\nstatus\nstate"];
  check_status_state -> assert_factory_lifeline_state [label = "factory\nstatus!"];
  check_status_state [label = "check\nstatus\nstate"];
  check_status_state -> alarmed_power_down_state [label = "not\nfinal\nor\nfactory\nstatus!"];
  assert_final_lifeline_state [label = "assert\nfinal\nlifeline\nstate"];
  assert_final_lifeline_state -> monitor_status_state [label = "final\nlifeline\nasserted!"];
  assert_factory_lifeline_state [label = "assert\nfactory\nlifeline\nstate"];
  assert_factory_lifeline_state -> monitor_status_state [label = "factory\nlifeline\nasserted!"];
  alarmed_power_down_state [label = "alarmed\npower\ndown\nstate"];
  alarmed_power_down_state -> alarm_state [label = "unit\npower\nremoved!"];
  monitor_status_state [label = "monitor\nstatus\nstate"];
  monitor_status_state -> monitor_status_state [label = "final\nstatus!"];
  monitor_status_state [label = "monitor\nstatus\nstate"];
  monitor_status_state -> monitor_status_state [label = "factory\nstatus!"];
  monitor_status_state [label = "monitor\nstatus\nstate"];
  monitor_status_state -> power_down_wait_state [label = "pri\noff\nreq\nstatus!"];
  monitor_status_state [label = "monitor\nstatus\nstate"];
  monitor_status_state -> power_down_wait_state [label = "sec\noff\nreq\nstatus!"];
  monitor_status_state [label = "monitor\nstatus\nstate"];
  monitor_status_state -> power_down_wait_state [label = "system\nalarm\nstatus!"];
  monitor_status_state [label = "monitor\nstatus\nstate"];
  monitor_status_state -> anti_race_state [label = "unexpected\nstatus!"];
  power_down_wait_state [label = "power\ndown\nwait\nstate"];
  power_down_wait_state -> power_down_wait_state [label = "system\nalarm\nstatus!"];
  power_down_wait_state [label = "power\ndown\nwait\nstate"];
  power_down_wait_state -> power_down_wait_state [label = "pri\noff\nreq\nstatus!"];
  power_down_wait_state [label = "power\ndown\nwait\nstate"];
  power_down_wait_state -> power_down_wait_state [label = "sec\noff\nreq\nstatus!"];
  power_down_wait_state [label = "power\ndown\nwait\nstate"];
  power_down_wait_state -> alarmed_power_down_state [label = "power\ndown\ntimeout\nand\nnot\nsystem\nalarm!"];
  power_down_wait_state [label = "power\ndown\nwait\nstate"];
  power_down_wait_state -> alarmed_power_down_state [label = "unexpected\nstatus!"];
  power_down_wait_state [label = "power\ndown\nwait\nstate"];
  power_down_wait_state -> ordered_power_down_state [label = "all\noff\nreq\nstatus!"];
  anti_race_state [label = "anti\nrace\nstate"];
  anti_race_state -> alarmed_power_down_state [label = "anti\nrace\ntimeout!"];
  anti_race_state [label = "anti\nrace\nstate"];
  anti_race_state -> power_down_wait_state [label = "pri\noff\nreq\nstatus!"];
  anti_race_state [label = "anti\nrace\nstate"];
  anti_race_state -> power_down_wait_state [label = "sec\noff\nreq\nstatus!"];
  anti_race_state [label = "anti\nrace\nstate"];
  anti_race_state -> power_down_wait_state [label = "all\noff\nreq\nstatus!"];
  anti_race_state [label = "anti\nrace\nstate"];
  anti_race_state -> power_down_wait_state [label = "system\nalarm\nstatus!"];
  anti_race_state [label = "anti\nrace\nstate"];
  anti_race_state -> anti_race_state [label = "unexpected\nstatus!"];
  ordered_power_down_state [label = "ordered\npower\ndown\nstate"];
  ordered_power_down_state -> verify_off_status_state [label = "unit\npowered\ndown!"];
  verify_off_status_state [label = "verify\noff\nstatus\nstate"];
  verify_off_status_state -> lifeline_off_state [label = "status\noff!"];
  verify_off_status_state [label = "verify\noff\nstatus\nstate"];
  verify_off_status_state -> alarm_state [label = "status\noff\ntimeout!"];
}
