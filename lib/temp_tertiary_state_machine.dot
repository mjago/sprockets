digraph draw_state_machine {
  graph [bgcolor = white, label = "\n\nMain State Machine", rankdir = "UD"];
  edge [color = darkgreen, fontcolor = darkgreen, fontname = "verdana", fontsize = "16", url = "http://google.com"];
  node [color = black, fillcolor = lightblue, fontcolor = navyblue, fontname = "verdana", fontsize = "16", shape = box, style = filled, url = "http://google.com"];
  init_state [label = "init\nstate"];
  init_state -> contact_tester_state [label = "initialised!"];
  contact_tester_state [label = "contact\ntester\nstate"];
  contact_tester_state -> contact_tester_state [label = "tester\nnot\ncontacted!"];
  contact_tester_state [label = "contact\ntester\nstate"];
  contact_tester_state -> listen_for_tester_state [label = "tester\ncontacted!"];
  contact_tester_state [label = "contact\ntester\nstate"];
  contact_tester_state -> init_state [label = "contact\ntester\ntimeout!"];
  listen_for_tester_state [label = "listen\nfor\ntester\nstate"];
  listen_for_tester_state -> listen_for_tester_state [label = "tester\nunheard!"];
  listen_for_tester_state [label = "listen\nfor\ntester\nstate"];
  listen_for_tester_state -> send_tester_hash_state [label = "tester\nheard!"];
  listen_for_tester_state [label = "listen\nfor\ntester\nstate"];
  listen_for_tester_state -> contact_tester_state [label = "tester\nlistening\ntimeout!"];
  send_tester_hash_state [label = "send\ntester\nhash\nstate"];
  send_tester_hash_state -> sent_tester_hash_state [label = "sent\nhash\nto\ntester!"];
  send_tester_hash_state [label = "send\ntester\nhash\nstate"];
  send_tester_hash_state -> warning_hash_nak_overcount_state [label = "retry\novercount!"];
  sent_tester_hash_state [label = "sent\ntester\nhash\nstate"];
  sent_tester_hash_state -> verify_tester_hash_state [label = "received\nhash\nack!"];
  sent_tester_hash_state [label = "sent\ntester\nhash\nstate"];
  sent_tester_hash_state -> send_tester_hash_state [label = "received\nhash\nnak!"];
}
